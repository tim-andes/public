jQuery(function(n){function r(e){var o=n(e),t=n("<div></div>").html('<span class="current">'+o.find(":selected").html()+"</span>"+siteorigin_corp_data.chevron_down).addClass("ordering-selector-wrapper").insertAfter(o),i=n("<div/>").addClass("ordering-dropdown-container").appendTo(t),r=(e=n("<ul></ul>").addClass("ordering-dropdown").appendTo(i),0);o.find("option").each(function(){var i=n(this);e.append(n("<li></li>").html(i.html()).data("val",i.attr("value")).on("click",function(){o.val(n(this).data("val")).trigger("change"),o.hasClass("woocommerce-ordering")?o.closest("form").trigger("submit"):t.find(".current").text(n(this).text())})),r=Math.max(t.find(".current").html(i.html()).width(),r)}),t.find(".current").html(o.find(":selected").html()).width(r),o.hide()}n(".woocommerce-ordering select, .corp-variations-wrapper select").each(function(){r(this)}),n(document).on("click",".ordering-selector-wrapper",function(){n(this).toggleClass("open-dropdown")}),n(window).on("click",function(i){n(i.target).closest(".ordering-selector-wrapper.open-dropdown").length||n(".ordering-selector-wrapper.open-dropdown").removeClass("open-dropdown")}),n(document).on("click",".woocommerce .product .variations .reset_variations",function(){n(this).parents(".variations_form").find(".corp-variations-wrapper").each(function(){var i=n(this);i.find(".current").text(i.find(".ordering-dropdown li").first().text()),i.find("option:selected").prop("selected",!1),i.find("select").trigger("change")})}),n(".product-quick-view-button").on("click",function(i){i.preventDefault();var o="#quick-view-container",t="#product-quick-view",e=n(this).attr("data-product-id");n.post(siteorigin_corp_data.ajaxurl,{action:"siteorigin_corp_product_quick_view",product_id:e},function(i){n(document).find(o).find(t).html(i),n(document).find("#product-quick-view .variations_form").wc_variation_form(),n(document).find("#product-quick-view .variations_form").trigger("check_variations"),n("#quick-view-container .corp-variations-wrapper select").each(function(){r(this)})}),n(document).ajaxComplete(function(){n.isFunction(n.fn.flexslider)&&(n(".product-images-slider").flexslider({animation:"slide",customDirectionNav:n(this).find(".flex-direction-nav a"),start:function(){n(".flexslider .slides img").show()}}),n("#product-quick-view .variations_form").on("found_variation.wc-variation-form",function(i,e){if(e&&e.image&&e.image.full_src){var o=n("#product-quick-view .product-gallery-image").find('img[src="'+e.image.full_src+'"]');0<o.length?n(".product-images-slider").flexslider(o.parent().index(".product-images-slider  .slide")-1):n(".product-images-slider").flexslider(0)}}),n("#product-quick-view .variations_form").on("reset_image",function(i,e){n(".product-images-slider").flexslider(0)}))}),n(document).find(o).is(":hidden")&&n(document).find(o).find(t).empty(),n(document).find(o).fadeIn(300),n("body").css("margin-right",window.innerWidth-n("body").width()+"px"),n("body").css("overflow","hidden"),n(window).on("mouseup",function(i){var e=n(t);(!e.is(i.target)&&0===e.has(i.target).length||n(".quickview-close-icon").is(i.target))&&(n(o).fadeOut(300),n("body").css("overflow",""),n("body").css("margin-right",""))}),n(document).on("keyup",function(i){n(t);27==i.keyCode&&(n(o).fadeOut(300),n("body").css("overflow",""),n("body").css("margin-right",""))})})});